"Gotta Graduate" by Robin Verweij, David Oâ€™Connor, Ryan Chan, Luke Plewa, Lauren Thurston, and Russell Taylor

[ -----------------------]
[               Setup              ]
[ -----------------------]

use no scoring. use full-length room descriptions.

The player is in Software Design Lab.

[Instead of talking to Dr Gene Fisher:
	now the player is carrying the north atrium key;
	now the player is in northwest corridor.]

To say Opening text: say "[italic type]You are in the Software Design Lab at [time of day] working on the last programming assignment of your last day of your last quarter at Cal Poly. Failing this assignment means you fail the class, don't graduate, and need to come back for Fall quarter, meaning you won't be able to take that full time position at Google. Disappoint.[paragraph break][roman type][bold type]In order to graduate on time you need to turn your program in before 12:00 AM.[roman type][paragraph break]".

When play begins:
	say "[Opening text]";
	now the time of day is 9:01 PM.
	
At 12 AM:
	end the game saying "It's past 12 AM, you've failed to turn in your assignment on time. You're now a college dropout!";

[---Pseudo Rooms---]
Classroom is a kind of container. classroom is scenery, lockable, closed, enterable, fixed in place, openable.
Faculty Room is a kind of container. Faculty Room is scenery, closed, enterable, fixed in place, openable, lockable. A Faculty Room is usually locked.

[ -----------------------]
[           Every Turn          ]
[ -----------------------]

Every turn:
	if the phone is on, now Battery Life is Battery Life  minus 1;
	if battery life is zero or battery life is less than zero:
		say "Your phone has run out of power and turned off. You need to charge it in order to turn it back on again.";
		now the phone is off;
	if the player is in hallway 1 for the first time, say "There's a loud crash coming from inside the Game Design Lab to the east!";
	if the player is in hallway 4 for the first time, say "There's a loud crash coming from inside one of the classrooms down the hallway to the east!";
	if the player is in hallway 5 for the first time, say "There is another loud crash towards the east!";
	if the player is in hallway 6 for the first time, say "The smashing is getting even louder towards the east!";
	if the player is in SouthEast Corridor for the first time and (Gene is in the Software Design Lab), say "It's dangerous to go alone. Talk to Dr Fisher before going any further!";
	if the player is in SouthEast Corridor for the first time and (Zoe is in the Game Design Lab), say "It's dangerous to go alone. Maybe there is someone who can help in the Game Design Lab!";
	if the player is in SouthEast Corridor for the first time and (Unix1 is not dead), say "You should probably check out those loud noises before going any further.";
	if the player is in SouthEast Corridor for the first time and (Gene is in the Software Design Lab or Zoe is in the Game Design Lab or Unix1 is not dead), now the player is in Hallway 4;
	if the player is in hallway 7 for the first time, say "The smashing and crashing is coming from behind Door 252!";
	if the player is in South Faculty Atrium for the first time:
		say "[italic type]As you enter the South Faculty Atrium the gates slam shut and lock themselves. Looks like you're going to need to find a way out.[roman type]";
		now SF-east-gate is closed;
		now SF-east-gate is locked;
		now SF-west-gate is closed;
		now SF-west-gate is locked;

[ -----------------------]
[              Items                ]
[ -----------------------]

[---Hallway Items---]
A mop is a thing. mop is in Janitor's Closet. The description of mop is "This has no use for you and it doesn't belong to you. You are a thief.".

The charger is a thing in the Software Design Lab.

The phone is a transparent container. The phone can be on or off. The player carries the phone. The description of the phone is "Battery Life: [battery life]%.".

Battery life is a number variable. Battery life is 100.

app is a kind of thing. DDOS, packet spoofer, keylogger, lab door key is an app.

[---South Faculty Items---]
A battery is a kind of thing.

A battery compartment is a kind of container. A battery compartment is usually closed and openable. One battery compartment is part of every device. Instead of inserting something which is not a battery into a battery compartment, say "Nothing will happen by inserting that into the slot since its not a battery".

Definition: a device is empty: 
	if a battery compartment which is part of it contains a battery (called the power source): 
		no; 
	yes.

The nokia phone is a device. The description is "Nokia Phone: This phone has the properties all nokia phones have. (try smashing stuff)".
The solder pen is a device. "Portable Soldering Pen".
The backpack is in the South Faculty Atrium.
The nokia phone is in 14-205.
The solder pen is in 14-204.

An AA cell is a  battery.  It is in 14-216. The description of the AA Cell is "An AA cell battery is always found when you really need an AAA".
The description of the backpack is "Recon. A familiar Northface backpack. You know the ins and out of this packpack. You easily can find the contents within".
The rusted key is in Faculty Entrances1. The description is "Engraved into the scratched and heavily used key is '14-20...'".
The pin is in 14-208. The description is "This pin might come in use to unlock a door".
The note is in 14-211. The description is "Busy,  if anyone reads this can you get my cell phone from 14-205?".
[The South Faculty key is in 14-205. "Engraved into the key is 'gate key'".]

[---CSL Items---]
A row of computers is a fixed in place thing. The description is "On closer inspection, you see that the script, 'protectOverlord' is running on all the computers. It seems like all the computers are preventing you from getting into the Server Room.".

A power supply is a fixed in place device. The description is "All the computers are plugged into this one power supply.". The power supply is switched on.

A line of tables is a fixed in place supporter. The description is "Tables on which the CSL computers reside on. You see a power supply underneath the tables.". 
The row of computers is on line of tables.

The line of tables is in the CSL.

[ -----------------------]
[       Actions/Rules        ]
[ -----------------------]

[---Phone Actions---]
Turning on is an action applying to nothing.
Understand "turn on phone" and "turn phone on" as turning on.
Carry out turning on:
	now phone is on;
	say "Phone turned on.".
Turning off is an action applying to nothing.
Understand "turn off phone" and "turn phone off" as turning off.
Carry out turning off:
	now phone is off;
	say "Phone turned off.".
	
[---Application Actions---]
Launching it is an action applying to one thing.
Check launching it:
	if the noun is not an app, say "You can't do that." instead;
	if the phone is off, say "You need to turn your phone on to launch apps!";
	if the noun is DDOS and the phone is on:
		say "DDOS!";
		if Unix1 Battle is happening:
			Now enemy-health of unix1 is enemy-health of unix1 minus 10;
		if Unix2 Battle is happening:
			Now enemy-health of unix2 is enemy-health of unix2 minus 10;
		if Vogon Battle is happening:
			Now enemy-health of vogon is enemy-health of vogon minus 10;
	if the noun is keylogger and the phone is on:
		say "You're logging its keys!";
		if Unix1 Battle is happening:
			Now enemy-health of unix1 is enemy-health of unix1 minus 1;
		if Unix2 Battle is happening:
			Now enemy-health of unix2 is enemy-health of unix2 minus 1;
		if Vogon Battle is happening:
			Now enemy-health of vogon is enemy-health of vogon minus 1;
	if the noun is packet spoofer and the phone is on:
		say "You're spoofing packets!";
		if Unix1 Battle is happening:
			Now enemy-health of unix1 is enemy-health of unix1 minus 2;
		if Unix2 Battle is happening:
			Now enemy-health of unix2 is enemy-health of unix2 minus 2;
		if Vogon Battle is happening:
			Now enemy-health of vogon is enemy-health of vogon minus 2;
	if the noun is lab door key and the phone is on:
		if the player is in Software Design Lab:
			if door1 is locked: 
				now door1 is unlocked;
				say "The lab door unlocks.";
			else:
				now door1 is locked;
				say "The lab door locks.";
		else:
			say "It seems like the door this app unlocks is not close.";
	if the player is not carrying the phone, say "You need your phone to do that.".
Understand "launch [something]" as launching it.

Downloading it is an action applying to one thing.
Check downloading it:
	if the noun is not an app, say "You can't download that!".
Understand "Download [something]" as downloading it.

Downloading DDOS is an action applying to nothing.
Understand "Download DDOS" as downloading DDOS.
Instead of downloading DDOS:
	if DDOS is not in the phone, say "Successfully downloaded the app!";
	now DDOS is in the phone.
	
Downloading keylogger is an action applying to nothing.
Understand "Download keylogger" as downloading keylogger.
Instead of downloading keylogger:
	if keylogger is not in the phone, say "Successfully downloaded the app!";
	now keylogger is in the phone.
	
Downloading packet spoofer is an action applying to nothing.
Understand "Download packet spoofer" as downloading packet spoofer.
Instead of downloading packet spoofer:
	if packet spoofer is not in the phone, say "Successfully downloaded the app!";
	now packet spoofer is in the phone.

Downloading lab door key is an action applying to nothing.
Understand "Download lab door key" as downloading lab door key.
Instead of downloading lab door key:
	if lab door key is not in the phone, say "Successfully downloaded the app!";
	now lab door key is in the phone.

Charging it is an action applying to one thing.
Check Charging it:
	if the noun is not the phone, say "You can only do that with your phone." instead;
	if the noun is the phone and the player is carrying the charger, say "You have finished charging." instead;
	if the noun is the phone, now battery life is 100;
	if the player is not carrying the charger, say "You need your charger to do that." instead.
Understand "charge [something]" as Charging it.

[---Talking---]
To say talk to instead: 
	say "(To communicate, TALK TO a character.) ".
Understand "talk to [someone]" as talking to. Understand "talk to [something]" as talking to. Talking to is an action applying to one visible thing.

[---South Faculty Actions/Rules---]
Understand "turn on [device]" as switching on.
Understand "turn off [device]" as switching off.
Understand "put [something] in [container]" as inserting it into.
Understand "open [openable closed thing]" as opening.
Understand "close [openable open thing]" as closing. 

Instead of opening a device, try opening a random battery compartment which is part of the noun. Instead of closing a device, try closing a random battery compartment which is part of the noun. Instead of inserting a battery into a device, try inserting the noun into a random battery compartment which is part of the second noun.

Instead of switching on an empty device: 
	say "You need a power source!"

Does the player mean doing something other than searching to a battery compartment: it is unlikely.

Does the player mean inserting into a battery compartment: 
	if the noun is nothing: 
		it is very likely; 
	otherwise: 
		make no decision.
Does the player mean inserting a battery compartment into: it is very unlikely.
Does the player mean inserting something into a device: it is unlikely.
Does the player mean searching a battery compartment: it is very likely.

The block giving rule is not listed in the check giving it to rules.

Need relates one person to various things. The verb to need (he needs, they need, he needed, it is needed, he is needing) implies the need relation.

Carry out smashing a container with something: 
	if noun is a faculty room:
		now the noun is open;
		say "You smash [noun] open!";

Check smashing it with: 
	if the noun is a person, say "why would you want to smash [noun]?!" instead; 
	if the second noun is not a nokia phone, say "[The second noun] does not have the properties of a nokia phone" instead;
	if the noun is not a faculty room, say "that is a waste of time to smash the [noun]".
		
smashing it with is an action applying to two things.

Understand "smash [something] with [something]" as smashing it with.

[---CSL actions---]
After examining line of tables:
	now power supply is in CSL.
	
After switching off power supply:
	say "The room becomes instantly silent. The computers have stopped running, so you should be able to get into the Server Room now.";
	now Server Room door is unlocked.
	
[ Check time verb can be used instead of spouting the time every turn. ]
[ ---
Checking time is an action applying to nothing. [Time automatically goes up 1 minute each turn]
Understand "check time" and "time" as checking time. [To change time, use "increase the time of day by x minutes"]
Instead of checking time:
	say "[the time of day]".
--- ]
	
[-----------------------]
[             People             ]
[-----------------------]

[---Dr Gene Fisher---]
Dr Gene Fisher is a person. Gene is in the Software Design Lab.
The description of Gene Fisher is "The software engineering professor at Cal Poly. If you talk to him, he may be able to help you.".

Instead of talking to Gene Fisher:
	if the location of the player is the southeast corridor:
		say "I'll hold these unix minions off! go on ahead!!!";
		now the description of gene is "Looks like fisher is fighting hard against the unix minios...better hurry along!";
		stop the action;
	if the person is Gene:
		say "Dr. Fisher looks up from his laptop. 'There seems to be something going on with the servers.'[paragraph break]'I'm going to go see what's up. I'm going to lock the door so you'll need this new app I made. It's called lab door key. All you have to do to get it is [bold type]download lab door key[roman type]. It'll automatically download into your phone, then you can [bold type]launch lab door key[roman type] to open this lab's door.'[paragraph break]'Oh, and don't forget your phone charger over there. If your phone isn't charged, you won't be able to use any apps. Try [bold type]charge phone[roman type].'[paragraph break]Dr. Fisher packs up and leaves the room.";
		move Gene to the SouthEast corridor;
		stop the action;
		
[---Dr Zoe Wood---]
Dr Zoe Wood is a person. Zoe is in the Game Design Lab.
The description of Zoe Wood is "The graphics professor at Cal Poly. If you talk to her, she may be able to help you.".

Instead of talking to Zoe Wood:
	if the location of the player is in the CSL:
		say "Hurry and defeat vogon, I don't know how much longer I can old Sparx off!";
		now the description of zoe wood is "Looks like Zoe is having some difficulty against sparx! Better hurry and defeat vogon!";
		stop the action;
	if the person is Zoe Wood:
		say "Dr. Zoe Wood approaches you, 'Hey, if you have noticed, something is wrong with the servers. If you're willing to help me, I suggest we split up and investigate the building. The best place to look first is in probably the server room in the CSL.'[paragraph break]'I see you have a smart phone. I have prepared a phone application to attack the servers should anything go wrong. You can download keylogger onto your phone from the app store. Make sure to examine your phone to check it's remaining battery - you wouldn't want to run out of battery life! Either way, I'm off to go see if I can help get the servers back up.'[paragraph break]Dr. Wood leaves the room.";
		move zoe wood to the CSL;
		now door 252 is unlocked.
		
[--- Dr Alex Dekhtyar ---]
Dr Alex Dekhtyar is a person. Dekhtyar is in room 246. 
The description of Dekhtyar is "Dr. Dekhtyar appears to be working on something at a terminal. Maybe you should talk to him.".

Instead of talking to Dekhtyar:
		say "'Don't distract me, I'm busy fighting off whatever virus is attempting to infect all our databases. I've found out that one of the servers has gone rogue, but I can't exactly pinpoint which one. I need you to go figure out what's going on and fix it so we don't lose everything.'[paragraph break]'Oh and before I forget - before Hugh Smith left to try to fix the problem he told me there's an app in the app store we might use in such a situation - packet spoofer. Good luck.'";
		
[--- Dr Ignacio Vakalis ---]
Dr Ignacio Vakalis is a person. Vakalis is in 14-219.
The description of Vakalis is "Dr. Vakalis is furiously putting out keystrokes, it looks like he's battling the server.".

Instead of talking to Vakalis:
		say "'We were warned this would happen, but I thought our staff could handle it. It doesn't seem to be the case right now though, we need the help of as many students as we can get. Download my DDOS app from the app store and get moving.'";

[---Foaad---]
Foaad is a man. Foaad is in 14-213. He carries the North Atrium Key.

Instead of examining Foaad:
	say "[The noun] looks like he could use a solder pen. Better go find that"
	
Instead of talking to Foaad:
	if foaad has the solder pen:
		say "I'm busy working on my project!!";
	otherwise:
		say "I could really use a solder pen for my side project, I'm sure I can give you something for it".
	
before giving something to foaad:
	if noun is a solder pen:
		if noun is empty:
			say "This is useless with out a battery in it";
			stop the action;
		if noun is not empty:
			say "Ah this will help me alot. What did you say you were doing? anyways I have this 'A' I can give you, but how about this key? [paragraph break] [paragraph break]::you now carry the key foaad gave you::";
			now the player has the North Atrium Key;
	otherwise:
		say "I only want the solder pen";
		stop the action.

Foaad needs the solder pen.
		
[ --------------------------]
[     Building 14 Hallway     ]
[ --------------------------]

[---Story---]
To say Intro text: say "[paragraph break]You are finishing up your program, checking to make sure everything compiles and that your name is on the source code. You go to SSH into Vogon, when you realize that something is wrong. You cannot access Vogon, so you shrug it off and try Unix1. After you realize that Unix1 is not working, you start to lightly perspire. You desperately want to go home to your bed and fluffy pillow and sleep. As you try Unix2 and fail to connect once again, you bang your head on the table. What to do?".

Instead of going to Hallway 1 when charger is not held:
	say "Maybe you should heed Fisher's suggestion and bring your phone charger.".

[---Descriptions---]
Software Design Lab is a room with a description "A lab room lined with computers with a projector and table at the center. North is a doorway leading to the hall.[if Hallway 1 is unvisited][Intro text][end if]".

Game Design Lab is a room with a description "The Game Design Lab is filled computers and with a projector and table at the center.".

Janitor's Closet is a room with a description "Perhaps there is something useful in here.".

Room 246 is a Room. The description is "There is a door to the south.".
Room 248 is a Room. The description is "There is a door to the south.".
Room 249 is a Room. The description is "There is a door to the south. You can move west.".
Room 250 is a Room. The description is "There is a door to the north. You can move west.".
Room 251 is a Room. The description is "There is a door to the north.".
Room 252 is a Room. The description is "There is a door to the north.".

Hallway 1 is a room with the description "To the west there is a staircase, but you have no need to go downstairs. To the north is a door leading outside. Continue East down the Hallway". 

Hallway 2 is a room with the description "Continue east down the Hallway or south into the Game Design Lab.[if unvisited] Something tells you that you should probably go into the Game Design Lab.[end if]". 

Hallway 3 is a room with the description "Continue east down the Hallway or north into the Janitor's Closet.". 

Hallway 4 is a room with the description "Continue north to the South Faculty Offices or east down the hallway. The Faculty Offices may be a good place to look for helpful professors.". 

Hallway 5 is a Room. The description is "Continue east down the hallway.". 
Hallway 6 is a Room. The description is "Continue east down the hallway.".
Hallway 7 is a Room. The description is "To the south is room 252. You can go east or west in the East Hall.".
Hallway 8 is a Room. The description is "To the north is room 249. To the south is room 250. You can go east or west down the East Hall.".
Hallway 9 is a Room. The description is "To the east is a staircase. To the south is a door leading out. To the north is Room 249 and to the south is Room 250. You can go west in the East Hall.".

the printed name of Hallway 1 is "East-West Hallway". the printed name of Hallway 2 is "East-West Hallway". the printed name of Hallway 3 is "East-West Hallway". the printed name of Hallway 4 is "East-West Hallway". the printed name of Hallway 5 is "East-West Hallway". the printed name of Hallway 6 is "East-West Hallway". the printed name of Hallway 7 is "East-West Hallway". the printed name of Hallway 8 is "East-West Hallway". the printed name of Hallway 9 is "East-West Hallway".

Door1 is a closed, locked door.
Door2 is a closed, unlocked door. 
Door3 is a closed, unlocked door.	
Hallway Door is a locked door.

The printed name of Door1 is "Software Design Lab Door". 
The printed name of Door2 is "Game Design Lab Door".
The printed name of Door3 is "Janitor's Closet Door".

Door 249 is a door. It is south of Room 249 and north of Hallway 9. 
Door 250 is a door. It is north of Room 250 and south of Hallway 9.
Door 248 is a door. It is south of Room 248 and north of Hallway 8.
Door 251 is a door. It is north of Room 251 and south of Hallway 8.
Door 246 is a door. It is south of Room 246 and north of Hallway 7.
Door 252 is a locked door. It is north of Room 252 and south of Hallway 7.

Door1 is north of the Software Design Lab.
Door2 is north of the Game Design Lab. 
Door3 is south of the Janitor's Closet. 
Hallway Door is south of the SouthEast Corridor and north of Hallway 4.

Hallway 1 is north of Door1.
Hallway 2 is east of the Hallway 1 and north of Door2.
Hallway 3 is east of the Hallway 2 and south of Door3.
Hallway 4 is east of the Hallway 3.
Hallway 5 is east of Hallway 4.
Hallway 6 is east of Hallway 5.
Hallway 7 is east of Hallway 6.
Hallway 8 is east of Hallway 7.
Hallway 9 is east of Hallway 8.

[ ------------------------]
[        South Faculty         ]
[ ------------------------]

[---Descriptions---]
The SouthEast Corridor is a room. It has the description "You're in the the Southern end of the East Outdoor Corridor. To the north is a fallen vending machine that is blocking your path. The archways to the east have been fenced off. Your only option is to head west toward the the South Faculty Offices."

The SouthWest Corridor is a room. It has the description "You're in the Northern end of the West Outdoor Corridor. The west is fenced off, but the corridor continues to the North. To the south is a locked door and to the west are the South Faculty Offices.".

The South Faculty Atrium is a room. [It is west of the SouthEast Corridor and east of the SouthWest Corridor. ]It has the description "You're in the center of the southern faculty offices. To the north and south are enterances to the faculty offices."

The Faculty Entrances1 is a room. It is north of the South Faculty Atrium. It has the description "You see seven faculty offices:  14-205, 14-206, 14-207, 14-208, 14-209, 14-210, 14-211. You can enter each office and look around.[paragraph break]::Refer to the room by the last 3 digits. ie. 14-205 as 205::"

The Faculty Entrances2 is a room. It is south of the South Faculty Atrium. It has the description "You see seven faculty offices:  14-203, 14-204, 14-212, 14-213, 14-214, 14-215, 14-216. You can enter each office and look around.[paragraph break]::Refer to the room by the last 3 digits. ie. 14-205 as 205::"

The 14-205 is a Faculty Room inside the Faculty Entrances1. The pin unlocks it.
The 14-206 is a Faculty Room inside the Faculty Entrances1.
The 14-207 is a Faculty Room inside the Faculty Entrances1.
The 14-208 is a Faculty Room inside the Faculty Entrances1. The rusted key unlocks it. 
The 14-209 is a Faculty Room inside the Faculty Entrances1.
The 14-210 is a Faculty Room inside the Faculty Entrances1. The description of 14-210 is "gene fisher".
The 14-211 is a Faculty Room inside the Faculty Entrances1. 14-211 is open.

The 14-203 is a Faculty Room inside the Faculty Entrances2.
The 14-204 is a Faculty Room inside the Faculty Entrances2. 
The 14-212 is a Faculty Room inside the Faculty Entrances2.
The 14-213 is a Faculty Room inside the Faculty Entrances2. 
The 14-214 is a Faculty Room inside the Faculty Entrances2.
The 14-215 is a Faculty Room inside the Faculty Entrances2. 
The 14-216 is a Faculty Room inside the Faculty Entrances2. 

Understand "205" as 14-205.
Understand "206" as 14-206.
Understand "207" as 14-207.
Understand "208" as 14-208.
Understand "209" as 14-209.
Understand "210" as 14-210.
Understand "211" as 14-211.

Understand "203" as 14-203.
Understand "204" as 14-204.
Understand "212" as 14-212.
Understand "213" as 14-213.
Understand "214" as 14-214.
Understand "215" as 14-215.
Understand "216" as 14-216. 

The description of the desk is "Typical desk you would see in a teachers office. Messy with papers.".
A desk is a backdrop in 14-205. 
A desk is a backdrop in 14-206.
A desk is a backdrop in 14-207. 
A desk is a backdrop in 14-208. 
A desk is a backdrop in 14-209. 
A desk is a backdrop in 14-210. 
A desk is a backdrop in 14-211. 

A desk is a backdrop in 14-203. 
A desk is a backdrop in 14-204. 
A desk is a backdrop in 14-212. 
A desk is a backdrop in 14-213.
A desk is a backdrop in 14-214.
A desk is a backdrop in 14-215.
A desk is a backdrop in 14-216. 

SF-east-gate is a door and unlocked. It is west of the South Faculty Atrium and east of the SouthWest corridor.
SF-west-gate is a door and unlocked. It is east of the South Faculty Atrium and west of the SouthEast corridor.
NF-east gate is a door and unlocked. It is east of the northwest corridor and west of the north faculty atrium.
NF-west gate is a door and locked. it is east of the north faculty atrium and west of the northeast corridor. The north atrium key unlocks the nf-west-gate.

[ ------------------------]
[        North Faculty         ]
[ ------------------------]

[---Descriptions---]
The NorthWest Corridor is a room. It has the description "You're in the West Corridor. The west is still fenced off. To the north is another fallen vending machine. Weird... Seems your only option is to head east toward the North Faculty Offices". It is north of the SouthWest Corridor.
The NorthEast Corridor is a room. It has the description "You're in the Northern end of the Eastern Corridor. To the south is the first fallen vending machine you saw. The eastern archways are still fenced off. You can see that to the north the path is clear.". 

The North Faculty Atrium is a room. [It is west of the NorthEast Corridor and east of the NorthWest Corridor. ]It has the description "You're in the center of the northern faculty offices. To the north and south are enterances to the faculty offices."
The Faculty Entrances3 is a room. It is north of the North Faculty Atrium. It has the description "You see five faculty offices:  14-219, 14-221, 14-222, 14-223, 14-226. You can enter each office and look around."
The Faculty Entrances4 is a room. It is south of the North Faculty Atrium. It has the description "You see seven faculty offices:  14-217, 14-218, 14-227, 14-228, 14-229, 14-230, 14-231. You can enter each office and look around."

The 14-219 is Faculty Room inside the Faculty Entrances3.
The 14-221 is Faculty Room inside the Faculty Entrances3.
The 14-222 is Faculty Room inside the Faculty Entrances3.
The 14-223 is Faculty Room inside the Faculty Entrances3.
The 14-226 is Faculty Room inside the Faculty Entrances3.

The 14-217 is Faculty Room inside the Faculty Entrances4.
The 14-218 is Faculty Room inside the Faculty Entrances4.
The 14-227 is Faculty Room inside the Faculty Entrances4.
The 14-228 is Faculty Room inside the Faculty Entrances4.
The 14-229 is Faculty Room inside the Faculty Entrances4.
The 14-230 is Faculty Room inside the Faculty Entrances4.
The 14-231 is Faculty Room inside the Faculty Entrances4.

Understand "219" as 14-219.
Understand "221" as 14-221.
Understand "222" as 14-222.
Understand "223" as 14-223.
Understand "226" as 14-226.

Understand "217" as 14-217.
Understand "218" as 14-218.
Understand "227" as 14-227.
Understand "228" as 14-228.
Understand "229" as 14-229.
Understand "230" as 14-230.
Understand "231" as 14-231.

[ ----------------------]
[                CSL               ]
[ ----------------------]

[---Story---]
To say Enter CSL: say "You finally get to the CSL. The room is hotter than usual, but you don't seem to think anything of it. You try the door to the Server Room so you can finally end everything, but as soon as you touch it, you jump back. The door handle is extremely hot! Dumbfounded, you look around as you try to think of a way to get into the Server Room.".

The CSL is a room with the description "Main CSL Room. You see rows of computers.". 
The CSL door is a door. It is south of the CSL and north of the NorthEast Corridor.
[It is north of NorthEast Corridor.]

The Server Room is a room with the description "Home of Vogon and Falcon." 
The Server Room door is a closed locked door. It is east of the CSL and west of the Server Room.

[ ----------------------]
[       Enemy Setup        ]
[ ----------------------]

[the Player is in Hallway 7.]

Enemy is a kind of thing. An enemy can be dead. An enemy is usually not dead. An enemy has a number called enemy-health. The plural of enemy is enemies.

[Unix1 is a kind of enemy. Enemy-health of Unix1 is 5.
There is 1 Unix1 in 14-254. It is scenery.]

[---Unix1 Battle---]
Unix1 is an enemy. Enemy-health of Unix1 is 5.
Unix1 Battle is a scene.

[Started substituting Room 252 for 14-254 for the time being]
Unix1 Battle begins when (the player is in Room 252 for the first time) or (the player is in Room 252 and the enemy is not dead).

[Unix1 Battle begins when the player is in 14-254 and the enemy is not dead.]

When Unix1 Battle begins:
	Move Unix1 to Room 252; 
	say "The door behind you closes and locks itself. It's a trap![Paragraph break]";
	Now Door 252 is closed; [Close all the doors in room.]
	Now Door 252 is locked; [Lock all the doors in room.]
	say "Unix1 is on the computer. It looks pissed.".

When Unix1 Battle ends:
	Remove Unix1 from play; [Unlock all doors in room.]
	say "The screen fades to the usual terminal.[Paragraph break]";
	now Door 252 is unlocked;
	say "The door to the north makes a clicking noise. It seems to be unlocked. Maybe the hallway door leading the faculty offices has opened too.";
	now hallway door is unlocked;
	now hallway door is open;

Unix1 Battle ends when (Unix1 is dead). [The enemy will always be present till it dies.]

[Every turn:
	Let playerLocation be the location of the player;
	if an enemy is in playerLocation and an enemy is not dead:
		say "I am here.";
	otherwise:
		say "What enemy.".]

Every turn during Unix1 Battle:
	If the Enemy-health of Unix1 is 0  or Enemy-health of Unix1 is less than 0:
		Now Unix1 is dead;
	Let playerLocation be the location of the player; [Create a condition that the player is in combat, possibly turn wifi on or off. Give a chance for the player to leave and charge phone and kick them out of battle till they recharge. Also regain enemy health when they are not battling.]
	If the phone is on:
		Repeat with currentEnemy running through enemies in playerLocation:
			Let enemy-attack be a random number between 1 and 2;
			if enemy-attack is 1:
				say "[currentEnemy] uses open Internet Explorer twice.[Paragraph break]";
				say "You lose 1 Battery life. "; [Change this to say and decrease actual battery life.]
				Decrease Battery life by 1;
			else if enemy-attack is 2:
				say "[currentEnemy] uses Cntl^D on you.[Paragraph break]";
				say "You lose 1 Battery life. ";[Change this to say and decrease actual battery life.]
				Decrease Battery Life by 1;
			 say "Your currently have [Battery Life]% battery left.[Paragraph break]".
			[say "[currentEnemy]: Attack! [enemy-health of currentEnemy] [Paragraph break]";
			Decrease the Enemy-Health of Unix1 by 1;]

[---Unix2 Battle---]
[Player is in Northwest Corridor.]

Unix2 is an enemy. Enemy-health of Unix2 is 10.
Unix2 Battle is a scene.

[Started substituting Room 252 for 14-254 for the time being]
Unix2 Battle begins when the player is in North Faculty Atrium for the first time

[Unix1 Battle begins when the player is in 14-254 and the enemy is not dead.]

When Unix2 Battle begins:
	Move Unix2 to 14-231; 
	say "The door behind you closes and locks itself. You knew it was too easy.[Paragraph break]";
	 [Close all the doors in room.]
	 Now NF-East Gate is closed;
	 Now NF-West Gate is closed;
	[Lock all the doors in room.]
	Now NF-East Gate is locked;
	Now NF-West Gate is locked;
	say "You need to find the next battle. It must be around here somewhere.".

When Unix2 Battle ends:
	Remove Unix2 from play; 
	say "The screen fades to the usual terminal.[Paragraph break]";
	[Unlock all doors in room.]
	Now NF-East Gate is unlocked;
	Now NF-West Gate is unlocked;
	say "You hear a clicking noise. The doors have been unlocked.[Paragraph break]
		You realize servers are being infected one after another, better step up the pace or you'll run out of time.".

Unix2 Battle ends when (Unix2 is dead). [The enemy will always be present till it dies.]

Every turn during Unix2 Battle:
	If the player is in 14-231 for the first time:
		say "You found the source of the locked doors. Take it down!";
	else:
		If the Enemy-health of Unix2 is 0 or Enemy-health of Unix2 is less than 0:
			Now Unix2 is dead;
		Let playerLocation be the location of the player; [Create a condition that the player is in combat, possibly turn wifi on or off. Give a chance for the player to leave and charge phone and kick them out of battle till they recharge. Also regain enemy health when they are not battling.]
		If phone is on:
			Repeat with currentEnemy running through enemies in playerLocation:
				Let enemy-attack be a random number between 1 and 4;
				if enemy-attack is 1:
					say "[currentEnemy] uses Network Storm.[Paragraph break]";
					say "You lose 6 Battery life. "; [Change this to say and decrease actual battery life.]
					Decrease Battery Life by 6;
				else if enemy-attack is 2:
					say "[currentEnemy] uses Spyware Spam.[Paragraph break]";
					say "You lose 3 Battery life. "; [Change this to say and decrease actual battery life.]
					Decrease battery Life by 3;
				else if enemy-attack is 3:
					say "[currentEnemy] uses Nyan Cat Sound Blast.[Paragraph break]";
					say "You lose 2 Battery life. "; [Change this to say and decrease actual battery life.]
					Decrease battery Life by 2;
				 say "Your currently have [Battery Life]% battery left.[Paragraph break]".
					
				[say "[currentEnemy]: Attack! [enemy-health of currentEnemy] [Paragraph break]";
				Decrease the Enemy-Health of Unix1 by 1;]

[---Vogon Battle---]
Vogon is an enemy. Enemy-health of Vogon is 20.
Vogon Battle is a scene.

Vogon Battle begins when the player is in Server Room.

When Vogon Battle begins:
	Move Vogon to Server Room; 
	say "The door behind you closes and locks itself. This is it, the final battle. [Paragraph break]";
	 [Close all the doors in room.]
	 Now CSL door is closed;
	 Now Server Room door is closed;
	[Lock all the doors in room.]
	Now CSL door is locked;
	Now Server Room door is locked.

When Vogon Battle ends:
	Remove Vogon from play; 
	say "The screen fades to the usual terminal. [Paragraph break]";
	[Unlock all doors in room.]
	Now CSL door is unlocked;
	Now Server Room door is unlocked;
	end the game saying "You've taken down Vogon. You enter terminal and quickly repair the system in order to hand in your assignment.[Paragraph break]> Reparation Complete.[line break]> Handin... Successful![paragraph break]You've done it. You're going to graduate on time. Well done!".

Vogon Battle ends when (Vogon is dead). [The enemy will always be present till it dies.]

Every turn during Vogon Battle:
	If the Enemy-health of Vogon is 0 or Enemy-health of Vogon is less than 0:
		Now Vogon is dead;
	Let playerLocation be the location of the player; [Create a condition that the player is in combat, possibly turn wifi on or off. Give a chance for the player to leave and charge phone and kick them out of battle till they recharge. Also regain enemy health when they are not battling.]
	If phone is on:
		Repeat with currentEnemy running through enemies in playerLocation:
			Let enemy-attack be a random number between 1 and 4;
			if enemy-attack is 1:
				say "[currentEnemy] uses Troll Face Popup. It's clearly mocking you![Paragraph break]";
				say "You lose 1 Battery life. "; [Change this to say and decrease actual battery life.]
				Decrease Battery Life by 1;
			else if enemy-attack is 2:
				say "[currentEnemy] uses QWOP Duel.[Paragraph break]";
				say "You lose 5 Battery life. "; [Change this to say and decrease actual battery life.]
				Decrease battery Life by 5;
			else if enemy-attack is 3:
				say "[currentEnemy] uses Stuxnet Update.[Paragraph break]";
				say "You lose 10 Battery life. "; [Change this to say and decrease actual battery life.]
				Decrease battery Life by 10;
			else if enemy-attack is 4:
				say "[currentEnemy] uses Phone Update and Reboot.[Paragraph break]";
				say "You lose 15 Battery life. "; [Change this to say and decrease actual battery life.]
				Decrease battery Life by 15;
			 say "You currently have [Battery Life]% battery remaining.[Paragraph break]".
				
			[say "[currentEnemy]: Attack! [enemy-health of currentEnemy] [Paragraph break]";
			Decrease the Enemy-Health of Unix1 by 1;]

[ --- Time of Day should be stated last, so it's at the bottom of the code base --- ]
Every turn:
	say "It's now [the time of day]";
